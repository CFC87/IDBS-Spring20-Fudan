<!-- Fix MathJax rendering on iOS Safari due to rendering long numbers as phone numbers. -->



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Course website for introduction to database systems at Fudan University">
      
      
        <link rel="canonical" href="https://zfhu.ac.cn/IDBS-Spring20-Fudan/assignment2/readme/">
      
      
        <meta name="author" content="Zhifeng Hu">
      
      <link rel="shortcut icon" href="/static/assets/fudan.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.3.2">
    
    <meta name="format-detection" content="telephone=no">

    
      
        <title>Instruction - IDBS-Spring20-Fudan</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../static/css/katex.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-149024530-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#assignment-2-evaluator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://zfhu.ac.cn/IDBS-Spring20-Fudan" title="IDBS-Spring20-Fudan" class="md-header-nav__button md-logo" aria-label="IDBS-Spring20-Fudan">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 000 14a6 6 0 006 6h13a5 5 0 005-5c0-2.64-2.05-4.78-4.65-4.97z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            IDBS-Spring20-Fudan
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Instruction
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ichn-hu/IDBS-Spring20-Fudan/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ichn-hu/IDBS-Spring20-Fudan
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://zfhu.ac.cn/IDBS-Spring20-Fudan" title="IDBS-Spring20-Fudan" class="md-nav__button md-logo" aria-label="IDBS-Spring20-Fudan">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.35 10.03A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 000 14a6 6 0 006 6h13a5 5 0 005-5c0-2.64-2.05-4.78-4.65-4.97z"/></svg>

    </a>
    IDBS-Spring20-Fudan
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ichn-hu/IDBS-Spring20-Fudan/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ichn-hu/IDBS-Spring20-Fudan
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Assignment 1
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Assignment 1" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Assignment 1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../assignment1/readme/" title="Instruction" class="md-nav__link">
      Instruction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Assignment 2
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Assignment 2" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Assignment 2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Instruction
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Instruction" class="md-nav__link md-nav__link--active">
      Instruction
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-your-cloned-git-repository" class="md-nav__link">
    Update Your Cloned Git Repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-provided-code-to-your-working-directory" class="md-nav__link">
    Copy Provided Code to Your Working Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-new-branch-for-development" class="md-nav__link">
    Create a New Branch for Development
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-configuration" class="md-nav__link">
    Modify Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concurrent-comparison-result-insert" class="md-nav__link">
    Concurrent Comparison Result Insert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluate-the-score" class="md-nav__link">
    Evaluate the Score
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-the-score" class="md-nav__link">
    Get the Score
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hints" class="md-nav__link">
    Hints
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submit-your-solution" class="md-nav__link">
    Submit your solution
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Assignment 3
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Assignment 3" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Assignment 3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../assignment3/readme/" title="Instruction" class="md-nav__link">
      Instruction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Assignment 4
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Assignment 4" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Assignment 4
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../assignment4/readme/" title="Instruction" class="md-nav__link">
      Instruction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-your-cloned-git-repository" class="md-nav__link">
    Update Your Cloned Git Repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-provided-code-to-your-working-directory" class="md-nav__link">
    Copy Provided Code to Your Working Directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-new-branch-for-development" class="md-nav__link">
    Create a New Branch for Development
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-configuration" class="md-nav__link">
    Modify Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concurrent-comparison-result-insert" class="md-nav__link">
    Concurrent Comparison Result Insert
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluate-the-score" class="md-nav__link">
    Evaluate the Score
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-the-score" class="md-nav__link">
    Get the Score
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hints" class="md-nav__link">
    Hints
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submit-your-solution" class="md-nav__link">
    Submit your solution
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ichn-hu/IDBS-Spring20-Fudan/edit/master/content/assignment2/readme.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="assignment-2-evaluator">Assignment 2, Evaluator<a class="headerlink" href="#assignment-2-evaluator" title="Permanent link">&para;</a></h1>
<p>In the first assignment, you have written several SQLs to help you build basic experience playing with MySQL, in this assignment you are going to continue the journey, but this time, you will use a programming language to interact with MySQL, namely, golang.</p>
<p>Golang, developed by Google, is a statically typed programming language (we'll refer to golang as Go in the following content). It is becoming more and more popular in the recent several years, companies like bilibili<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> <sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup> and zhihu<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup> and so many more are using Go to build the backend of their applications. And the idea of cloud native and microservice are built almost on top of Go, just to name a few softwares in Go, docker, kubernetes, and TiDB (a distributed database compatible with MySQL, we probably will also play with it in the future). So it is very desirable and meaningful to start to learn this language.</p>
<p>Go is also very simple, it is built with simplicity in mind, as long as you know how to write C code, it won't be hard
to learn Go. However, Go does introduce many ideas that perhaps you are not familiar with, most of the ideas are
related to concurrency, such as <code>channel</code> and <code>goroutine</code>, we will be using these features extensively in the assignments,
since database systems are built to allow (or welcome) concurrent accesses, and Go has a good fame of being a
concurrency friendly programming language.</p>
<p>You might be frightened that you need to learn a new programming language, but it is a must for a good programmer to be
fluent in many programming languages, and it won't be too hard given you already know at least one programming
language. To make your learning experience less painful, follow the instructions below to learn it.</p>
<ul>
<li><a href="https://golang.org/doc/install">Install Go compiler and setup the environment</a>, we will be using the latest Go version, 1.14.</li>
<li>Join <a href="https://tour.golang.org/">the tour of Go</a>, walk through the whole tutorial, and come back often when you have
  problems writing Go in the future. This is an excellent tutorial, and your TA also learned Go from here. It would take at least 2
  days for you to fully understand the tutorial, so start early. Also, try some of the examples on your local machine,
  which will help you better understand the toolchain of Go. Note, the most important thing for you to learn is the
  concurrency part, you need to understand goroutine (kind of like a light-weighted thread) and <code>sync.Mutex</code>, since you
  will need it in this assignment. As for the syntax of Go, it is quite similar with C, so do not worry, you could just
  skim this part and come back when you need it.</li>
<li>Read the provided code and make sure your understand every line of the code. If you don't, check the tutorial again.
  And if you are still confused, do not hesitate to ask questions in the comment bellow.</li>
<li>Try to use GoLand for development, it provides the best Go development environment in your TA's opinion, and it is free for educational
  purpose. You could connect GoLand with your MySQL server and GoLand will be able to help you write your SQL.</li>
</ul>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h2>
<p>To setup the environment for this assignment, you have the following steps to finish.</p>
<h3 id="update-your-cloned-git-repository">Update Your Cloned Git Repository<a class="headerlink" href="#update-your-cloned-git-repository" title="Permanent link">&para;</a></h3>
<p>Your local repository only have your own code, in order to get the content for this assignment, you need to fetch data
from GitHub. Use the following commands:</p>
<div class="highlight"><pre><span></span><code>$ git remote add upstream https://github.com/ichn-hu/IDBS-Spring20-Fudan.git <span class="c1"># add your TA&#39;s repository to the romote</span>
$ git fetch upstream <span class="c1"># this command fetches the update in your TA&#39;s repository, it would take a while</span>
$ git merge upstream/master <span class="c1"># merge the updates into your master, you can also do `git rebase upstream/master` if you used another branch other than master previously for assignment 1</span>
</code></pre></div>

<h3 id="copy-provided-code-to-your-working-directory">Copy Provided Code to Your Working Directory<a class="headerlink" href="#copy-provided-code-to-your-working-directory" title="Permanent link">&para;</a></h3>
<p>The code provided is under <code>assignments/ass2/evaluator/</code>. Similarly you have to create your working directory under
<code>assignments/ass2/submission/</code></p>
<p>Suppose your current directory is the root of the repository.</p>
<div class="highlight"><pre><span></span><code>$ mkdir assignments/ass2/submission/YOURSTUDENTID <span class="c1"># put your student id here</span>
$ cp assignments/ass2/evaluator/* assignments/ass2/submission/YOURSTUDENTID/ <span class="c1"># copy provided code into your working directory</span>
</code></pre></div>

<p>You can only modify the files in your own working directory, any attempts to modify files outside your working directory
will make your submission invalid.</p>
<p>Especially, only <code>utils.go</code> in your working directory will be considered in this assignment (other files will be ignored, see
<code>assignments/ass2/submission/.gitignore</code>). With this said, you could actually modify other provided files like
<code>main.go</code> if it helps you with understanding the code or debugging your own code, but your modification will not be
considered when we evaluate your submission, and you should make sure your code in <code>utils.go</code> can work with the original
codebase.</p>
<p>You should generally only put your code between <code>YOUR CODE BEGIN</code> and <code>YOUR CODE END</code>. The evaluation of assignment 2 will be based on the three functions you filled in in <code>utils.go</code>.</p>
<p>As for the packages, you can not introduce any other external packages (the <code>go.mod</code> file will be ignored for your submission, even if you do, we will not be able to run it). You are free to use other internal packages, as a reference the TA's solution only uses <code>sync</code> and <code>reflect</code>.</p>
<h3 id="create-a-new-branch-for-development">Create a New Branch for Development<a class="headerlink" href="#create-a-new-branch-for-development" title="Permanent link">&para;</a></h3>
<p>It is your TA's fault that he didn't tell you this in assignment 1. It would be better that you don't work on the master
branch, because that will make the git history messy. Create a new branch and develop your code in the new branch, you
could name the branch <code>ass2</code>.</p>
<div class="highlight"><pre><span></span><code>$ git checkout -b ass2 # create and checkout to a new branch ass2
$ git add . &amp;&amp; git commit -m &quot;update from upstream, start ass2&quot; # commit your modification (only `utils.go` will be tracked) and start working
</code></pre></div>

<h3 id="modify-configuration">Modify Configuration<a class="headerlink" href="#modify-configuration" title="Permanent link">&para;</a></h3>
<p>Now edit <code>utils.go</code>, in the first <code>YOUR CODE</code> block, put your student id in <code>EvaluateID</code>, <code>../../../ass1/submission/</code>
for <code>SubmissionDir</code>, and the user name and password to connect your MySQL server.</p>
<p>You could then run</p>
<div class="highlight"><pre><span></span><code>$ go run main.go utils.go
</code></pre></div>

<p>at your working directory, you should see</p>
<div class="highlight"><pre><span></span><code>submission created
</code></pre></div>

<p>in the output if the configuration is correct. If you did not see this line, check the error message and search online, and try to fix it.</p>
<p>You could ignore the printed error message above this line, these messages are for you to know if there
are any problems with the submissions of assignment 1. They are only relevant if you found your solution for assignment 1 is not compliant with
the evaluator, then these error messages tell you why.</p>
<p>If you want to argue about your submission for assignment 1, create another pull request with your modified submission for assignment 1 (only modify files in your working directory for assignment 1) and explain why you think you
deserve a higher score in the pull request, mistakes like creating tables using all UPPERCASE names sound like possible to have a second chance.</p>
<p>Each submission created will have an integer array <code>score</code>, and <code>score[0]</code> is 0 if the submission's <code>create_table.sql</code> is wrong, otherwise it will be 1. <code>score[1]</code> to <code>score[8]</code> stands for the score for query 1 to query 8 in assignment 1, and they are obtained in the following manner.</p>
<h2 id="concurrent-comparison-result-insert">Concurrent Comparison Result Insert<a class="headerlink" href="#concurrent-comparison-result-insert" title="Permanent link">&para;</a></h2>
<p>Take a look at <code>compareAndInsert</code>, which compares each submissions with all the submissions on each query, and insert a record for the comparison in the table <code>comparison_result</code>.</p>
<p>The problem of this function is that it is single-threaded. As you might know, access database is IO-bounded, the CPU might wait for a lot of time for the response of the database, so it makes sense to make the insert concurrent so that the CPU could get more busy and making the insert faster.</p>
<p>The single thread version provided in the provided code takes almost 1 minutes on your TA's laptop to insert 7200
records in the database. This is too slow! The QPS (query per second) is about 7200 / 60 = 120.</p>
<p>With the help of goroutine, it can be easily made concurrent, so please make it concurrent and improve the QPS in <code>ConcurrentCompareAndInsert</code>. As a reference, it takes less than 4 seconds with your TA's simple concurrent version, a speed up of 15x.</p>
<p>You could also do batch insert, which could be even faster, but you won't be able to play with concurrency. If you are interested, you could write a <code>CompareAndBatchedInsert</code> function in <code>utils.go</code> and test how faster it could be, however this part is unrated.</p>
<p>Also as a reference, your kind TA provided you a concurrent <code>createSubmissions</code> in <code>main.go</code>, take a look if you don't know how to start.</p>
<p><del>Also as a kind note, <code>sql.DB</code> is not thread-safe, you need multiple <code>sql.DB</code> if you want concurrent access of the database, and figuring out (by search it online) what is closure, and how to pass variable to a closure might be helpful.</del></p>
<p><code>sql.DB</code> is thread-safe<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>, if you had trouble with too many connections error, see <a href="https://jmoiron.github.io/sqlx/#connectionPool">here</a>. Thanks <a href="https://github.com/TwistsOfFate">TwistsOfFate</a> for pointing this out.</p>
<p>Run</p>
<div class="highlight"><pre><span></span><code>$ go run main.go utils.go
</code></pre></div>

<p>again, and you will see</p>
<div class="highlight"><pre><span></span><code>ConcurrentCompareAndInsert takes  xxxs
</code></pre></div>

<p>instead of</p>
<div class="highlight"><pre><span></span><code>ConcurrentCompareAndInsert Not Implemented
</code></pre></div>

<h2 id="evaluate-the-score">Evaluate the Score<a class="headerlink" href="#evaluate-the-score" title="Permanent link">&para;</a></h2>
<p>Once you get all the comparison result, it is time to get the score for each submission on each query.</p>
<p>We evaluate the submission using the following rule. In <code>comparison_result</code>, for each query, each
submission has record of <code>is_equal</code> to every submissions, and the sum of <code>is_equal</code> is the vote of
the submission for the query, if the submission has the highest vote, i.e. most of submissions agreed with this submission's result on the query, the score of the submission on this query will be 1, otherwise 0.</p>
<p>Look at the <a href="#hints">output bellow in hints</a> if you are still not sure how the rule works.</p>
<p>You need to use <strong>a single query</strong> to insert the score result in the table <code>score</code> created in <code>createScoreTable</code>, where <code>submitter</code> is the ID of the submitter of the submission, item ranges from 1 to 8 and stands for each query, score being 0 or 1 means the score of <code>submitter</code> on query <code>item</code>, and <code>vote</code> is the vote mentioned above for sanity check.</p>
<p>You need to finish <code>GetScoreSQL</code> in <code>utils.go</code>, which only returns a single string containing the query sent to MySQL that reads from <code>comparison_result</code> and inserts into <code>score</code>.</p>
<p>This query can be rather complex and challenging, here are some hints that might be helpful</p>
<ul>
<li>UNION is a good wait to combine result of multiple queries</li>
<li>Common Table Expression (CTE) can be helpful if you want to reuse the result of a subquery</li>
<li><code>order by</code> can be used with multiple column</li>
<li>You can insert with values replaced by a select query</li>
<li>Window functions might be helpful, check it out if you are interested, but you can finish this query without using it</li>
</ul>
<p>You are free to hack around using any features of MySQL you want (version 8.0), there are many possible ways, as long as you can make it with the <code>GetScoreSQL</code> function, you will get the score.</p>
<p>Run</p>
<div class="highlight"><pre><span></span><code>$ go run main.go utils.go
</code></pre></div>

<p>again, and you will see</p>
<div class="highlight"><pre><span></span><code>GetScoreSQL inserted xxx records into score
</code></pre></div>

<p>instead of</p>
<div class="highlight"><pre><span></span><code>GetScoreSQL Not Implemented
</code></pre></div>

<h2 id="get-the-score">Get the Score<a class="headerlink" href="#get-the-score" title="Permanent link">&para;</a></h2>
<p>Finally, you need to fill in each submission's <code>score</code> (i.e. <code>Submission.score</code>) with the data in table <code>score</code>. Finish <code>GetScore</code> and read score from table <code>score</code> and you will get output like</p>
<div class="highlight"><pre><span></span><code>...
18307130252 1 1 1 1 1 1 1 1 0
18300200015 1 1 1 1 1 1 1 1 0
18307130031 1 1 1 1 1 1 1 0 1
18307130112 1 1 1 1 1 1 0 1 0
...
</code></pre></div>

<p>if you run <code>go run main.go utils.go</code>.</p>
<h2 id="hints">Hints<a class="headerlink" href="#hints" title="Permanent link">&para;</a></h2>
<p>The sample output from your TA is</p>
<details class="note"><summary>sample output</summary><div class="highlight"><pre><span></span><code>╰─$ go run main.go utils.go                              
18307130154   0   Error 1146: Table &#39;ass1_18307130154.employee&#39; doesn&#39;t exist                                      
18307130163   0   Error 1049: Unknown database &#39;ass1&#39;    
19307130296   0   Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;CREATE TABLE book(
        id int(32) not null auto_increment primary key,  
    name var&#39; at line 8                                  
18307130071   1   Error 1054: Unknown column &#39;jones&#39; in &#39;where clause&#39;                                             
18307130071   2   Error 1146: Table &#39;ass1_18307130071.empolyee&#39; doesn&#39;t exist                                      
18307130071   7   Error 1630: FUNCTION time.AFTER does not exist. Check the &#39;Function Name Parsing and Resolution&#39; section in the Reference Manual
18307130071   8   Error 1054: Unknown column &#39;id&#39; in &#39;field list&#39;                                                  
18307130102   7   Error 1305: FUNCTION ass1_18307130102.to_date does not exist                                     
19307130296   7   Error 1054: Unknown column &#39;id&#39; in &#39;order clause&#39;                                                
19307130296   8   Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;SELECT *
    FROM record                                          
    WHERE record.employee_id=employee.id                 
) AS num&gt;1                                               
ORD&#39; at line 5                                           
18307130213   0   Error 1146: Table &#39;ass1_18307130213.employee&#39; doesn&#39;t exist                                      
18307130297   7   Error 1054: Unknown column &#39;id&#39; in &#39;field list&#39;                                                  
18307130252   8   Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;)
on employee.id = X.id                                    
where X.num &gt; 1                                          
order by X.num desc&#39; at line 4                           
18307130213   1   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist                                      
18307130213   2   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist                                      
18307130213   3   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist                                      
18307130213   4   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist                                      
18307130213   5   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist                                      
18307130213   6   Error 1146: Table &#39;ass1_18307130213.BOOK&#39; doesn&#39;t exist                                          
18307130213   7   Error 1146: Table &#39;ass1_18307130213.BOOK&#39; doesn&#39;t exist
18307130252   8   Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;)
on employee.id = X.id
where X.num &gt; 1
order by X.num desc&#39; at line 4
18307130213   1   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist
18307130213   2   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist
18307130213   3   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist
18307130213   4   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist
18307130213   5   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist
18307130213   6   Error 1146: Table &#39;ass1_18307130213.BOOK&#39; doesn&#39;t exist
18307130213   7   Error 1146: Table &#39;ass1_18307130213.BOOK&#39; doesn&#39;t exist
18307130213   8   Error 1146: Table &#39;ass1_18307130213.EMPLOYEE&#39; doesn&#39;t exist
submission created
ConcurrentCompareAndInsert takes  4.491039717s
GetScoreSQL inserted 264 records into score
18307130017 1 1 1 1 1 1 1 1 0
18307130122 1 1 1 1 1 1 1 1 0
18307130213 0 0 0 0 0 0 0 0 0
18300750006 1 1 1 1 1 1 1 1 1
19307130296 0 1 1 1 1 0 1 0 0
18307130024 1 1 1 1 1 1 1 1 1
18307130027 1 1 1 1 1 0 1 1 1
18307130102 1 1 1 1 1 1 1 0 1
18307130103 1 1 1 1 1 1 1 0 1
18307130112 1 1 1 1 1 1 0 1 0
18307130154 0 1 1 1 1 1 1 0 1
18307130297 1 1 1 1 1 1 1 0 0
15307130201 1 1 1 1 1 1 1 1 1
18307130128 1 1 1 1 1 1 1 1 0
18307130252 1 1 1 1 1 1 1 1 0
18307130266 1 1 1 1 1 1 1 1 1
18307130003 1 1 1 1 1 1 1 1 1
18307130182 1 1 1 1 1 1 1 1 1
19300290059 1 1 1 1 1 1 0 1 1
18307130071 1 0 0 0 0 1 0 0 0
18300200015 1 1 1 1 1 1 1 1 0
18307130031 1 1 1 1 1 1 1 0 1
18307130090 1 1 1 1 1 1 1 0 0
18307130116 1 1 1 1 1 1 1 0 0
18307130126 1 1 1 1 1 1 1 1 1
18307130172 1 1 1 1 1 1 1 0 1
18307130341 1 1 1 1 1 1 1 1 1
18300200009 1 1 1 1 1 1 1 0 0
18307130104 1 1 1 1 1 1 1 0 1
18307130123 1 1 1 1 1 1 1 1 1
18307130163 0 1 1 1 1 1 1 0 1
18307130340 1 1 1 1 1 1 1 1 1
18300200012 1 1 1 1 1 1 1 0 1
</code></pre></div>

</details>
<p>And some sample from table <code>score</code></p>
<details class="note"><summary>sample from <code>score</code></summary><div class="highlight"><pre><span></span><code>ass1_result_evaluated_by_16307130177&gt; select * from score limit 30;                                                
+-------------+------+-------+------+
| submitter   | item | score | vote |
+-------------+------+-------+------+
| 15307130201 | 1    | 1     | 31   |
| 15307130201 | 2    | 1     | 31   |
| 15307130201 | 3    | 1     | 31   |
| 15307130201 | 4    | 1     | 31   |
| 15307130201 | 5    | 1     | 30   |
| 15307130201 | 6    | 1     | 29   |
| 15307130201 | 7    | 1     | 18   |
| 15307130201 | 8    | 1     | 20   |
| 18300200009 | 1    | 1     | 31   |
| 18300200009 | 2    | 1     | 31   |
| 18300200009 | 3    | 1     | 31   |
| 18300200009 | 4    | 1     | 31   |
| 18300200009 | 5    | 1     | 30   |
| 18300200009 | 6    | 1     | 29   |
| 18300200009 | 7    | 0     | 2    |
| 18300200009 | 8    | 0     | 4    |
| 18300200012 | 1    | 1     | 31   |
| 18300200012 | 2    | 1     | 31   |
| 18300200012 | 3    | 1     | 31   |
| 18300200012 | 4    | 1     | 31   |
| 18300200012 | 5    | 1     | 30   |
| 18300200012 | 6    | 1     | 29   |
| 18300200012 | 7    | 0     | 5    |
| 18300200012 | 8    | 1     | 20   |
| 18300200015 | 1    | 1     | 31   |
| 18300200015 | 2    | 1     | 31   |
| 18300200015 | 3    | 1     | 31   |
| 18300200015 | 4    | 1     | 31   |
| 18300200015 | 5    | 1     | 30   |
| 18300200015 | 6    | 1     | 29   |
+-------------+------+-------+------+
</code></pre></div>

</details>
<h2 id="submit-your-solution">Submit your solution<a class="headerlink" href="#submit-your-solution" title="Permanent link">&para;</a></h2>
<p>As you have done for assignment 1, commit your change for <code>utils.go</code> and create a pull request to submit it.</p>
<p>Since you used another branch (<code>ass2</code> as your TA told you above), do the following to push your code to your
repository</p>
<div class="highlight"><pre><span></span><code>$ git push --set-upstream origin ass2
</code></pre></div>

<p>Also do not look at other's submission before your submission get merged.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>https://github.com/bilibili/kratos&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>https://zhuanlan.zhihu.com/p/48039838&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>https://www.bilibili.com/video/av29079011/&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>https://github.com/ichn-hu/IDBS-Spring20-Fudan/issues/45#issuecomment-606323923&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
              
              
<script src="https://utteranc.es/client.js"
        repo="ichn-hu/IDBS-Spring20-Fudan"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../assignment1/readme/" title="Instruction" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Instruction
              </div>
            </div>
          </a>
        
        
          <a href="../../assignment3/readme/" title="Instruction" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Instruction
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Built by <a href="http://github.com/ichn-hu">ichn-hu</a> &copy; 2020
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/ichn-hu" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.7f4f3c92.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.9b3611bd.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../static/js/katex.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>